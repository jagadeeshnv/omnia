ClusterName={{ cluster_name }}

{% if slurm_installation_type == configless_slurm  %}
{% set slurm_ctld_parameters = (slurm_ctld_parameters | default([]) ) + ['enable_configless'] %}
{% endif %}
{% if slurm_ctld_parameters | length > 0 %}
SlurmctldParameters={{ slurm_ctld_parameters | join(',') }}
{% endif %}
PluginDir={{ installroot }}{{ plugin_slurm_dir }}
{% for key in slurm_conf_dict | sort %}
{% set val = slurm_conf_dict[key] %}
{% if val is not none and val != omit %}
{{ key }}={{ 'yes' if val is sameas true else ('no' if val is sameas false else val) }}
{% endif %}
{% endfor %}

# SLURM DBD
AccountingStorageType=accounting_storage/slurmdbd

# COMPUTE NODES
NodeName=DEFAULT State=UNKNOWN

# PARTITION INFO
PartitionName=DEFAULT Nodes=ALL Default=YES MaxTime=INFINITE State=UP
